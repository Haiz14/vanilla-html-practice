<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Text Styler</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"
    ></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              "dark-gray": "#1a1a1a",
            },
          },
        },
      };
    </script>
  </head>
  <body class="bg-gray-100 font-sans min-h-screen" x-data="textStyler()">
    <div x-data="" class="max-w-4xl mx-auto p-4">
      <h1 class="text-3xl font-bold mb-8 text-gray-800">Text Styler</h1>

      <div class="bg-white rounded-lg shadow-md p-6 mb-8">
        <h2 class="text-xl font-semibold mb-4 text-gray-700">
          Content Settings
        </h2>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1"
              >Text Content</label
            >
            <textarea
              x-model="textContent"
              class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
              rows="4"
              placeholder="Enter your text here..."
            ></textarea>
          </div>

          <div class="space-y-4">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1"
                >Text Size (px)</label
              >
              <input
                type="number"
                x-model="textSize"
                min="8"
                max="72"
                class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
            </div>

            <div class="grid grid-cols-2 gap-4">
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-1"
                  >Padding Left (rem)</label
                >
                <input
                  type="number"
                  x-model="paddingLeft"
                  min="0"
                  max="20"
                  step="0.5"
                  class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
                />
              </div>
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-1"
                  >Padding Right (rem)</label
                >
                <input
                  type="number"
                  x-model="paddingRight"
                  min="0"
                  max="20"
                  step="0.5"
                  class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
                />
              </div>
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-1"
                  >Padding Top (rem)</label
                >
                <input
                  type="number"
                  x-model="paddingTop"
                  min="0"
                  max="20"
                  step="0.5"
                  class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
                />
              </div>
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-1"
                  >Padding Bottom (rem)</label
                >
                <input
                  type="number"
                  x-model="paddingBottom"
                  min="0"
                  max="20"
                  step="0.5"
                  class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
                />
              </div>
            </div>

            <div class="grid grid-cols-2 gap-4">
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-1"
                  >Background Color</label
                >
                <select
                  x-model="backgroundColor"
                  class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
                >
                  <option value="dark-gray">Dark Gray</option>
                  <option value="white">White</option>
                  <option value="black">Black</option>
                  <option value="blue-500">Blue</option>
                  <option value="red-500">Red</option>
                  <option value="green-500">Green</option>
                  <option value="yellow-500">Yellow</option>
                </select>
              </div>
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-1"
                  >Text Color</label
                >
                <select
                  x-model="textColor"
                  class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
                >
                  <option value="white">White</option>
                  <option value="black">Black</option>
                  <option value="gray-700">Gray</option>
                  <option value="blue-500">Blue</option>
                  <option value="red-500">Red</option>
                  <option value="green-500">Green</option>
                </select>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="bg-white rounded-lg shadow-md p-6 mb-8">
        <h2 class="text-xl font-semibold mb-4 text-gray-700">
          Preview Box Settings
        </h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div class="space-y-4">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1"
                >Box Width (px or %)</label
              >
              <input
                type="text"
                x-model="boxWidth"
                class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
                placeholder="e.g. 500px or 80%"
              />
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1"
                >Box Height</label
              >
              <input
                type="number"
                x-model="boxHeight"
                min="100"
                max="1000"
                step="50"
                class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
                placeholder="Height in px"
              />
            </div>
          </div>
          <div class="space-y-4">
            <div class="grid grid-cols-2 gap-4">
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-1"
                  >Margin Left (rem)</label
                >
                <input
                  type="number"
                  x-model="marginLeft"
                  min="0"
                  max="20"
                  step="0.5"
                  class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
                />
              </div>
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-1"
                  >Margin Right (rem)</label
                >
                <input
                  type="number"
                  x-model="marginRight"
                  min="0"
                  max="20"
                  step="0.5"
                  class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
                />
              </div>
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-1"
                  >Margin Top (rem)</label
                >
                <input
                  type="number"
                  x-model="marginTop"
                  min="0"
                  max="20"
                  step="0.5"
                  class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
                />
              </div>
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-1"
                  >Margin Bottom (rem)</label
                >
                <input
                  type="number"
                  x-model="marginBottom"
                  min="0"
                  max="20"
                  step="0.5"
                  class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
                />
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="border-t-2 border-gray-300 my-6"></div>
    </div>
    <div
      x-bind:class="`bg-${backgroundColor} text-${textColor} font-sans rounded-md overflow-auto`"
      x-bind:style="`
                        font-size: ${textSize}px;
                        padding-left: ${paddingLeft}rem;
                        padding-right: ${paddingRight}rem;
                        padding-top: ${paddingTop}rem;
                        padding-bottom: ${paddingBottom}rem;
                        margin-left: ${marginLeft}rem;
                        margin-right: ${marginRight}rem;
                        margin-top: ${marginTop}rem;
                        margin-bottom: ${marginBottom}rem;
                        height: ${boxHeight}px;
                        width: ${boxWidth}
                    `"
      x-text="textContent || 'Enter text above to see preview'"
    ></div>

    <script>
      document.addEventListener("alpine:init", () => {
        Alpine.data("textStyler", () => ({
          textContent: "",
          textSize: 16,
          paddingLeft: 1,
          paddingRight: 1,
          paddingTop: 1,
          paddingBottom: 1,
          backgroundColor: "dark-gray",
          textColor: "white",
          boxWidth: "100%",
          boxHeight: 200,
          marginLeft: 0,
          marginRight: 0,
          marginTop: 0,
          marginBottom: 0,

          init() {
            // Load saved settings from localStorage
            const savedSettings = localStorage.getItem("textStylerSettings");
            if (savedSettings) {
              const settings = JSON.parse(savedSettings);
              Object.keys(settings).forEach((key) => {
                this[key] = settings[key];
              });
            }

            // Auto-save when any input changes
            this.$watch("textContent", () => this.saveSettings());
            this.$watch("textSize", () => this.saveSettings());
            this.$watch("paddingLeft", () => this.saveSettings());
            this.$watch("paddingRight", () => this.saveSettings());
            this.$watch("paddingTop", () => this.saveSettings());
            this.$watch("paddingBottom", () => this.saveSettings());
            this.$watch("backgroundColor", () => this.saveSettings());
            this.$watch("textColor", () => this.saveSettings());
            this.$watch("boxWidth", () => this.saveSettings());
            this.$watch("boxHeight", () => this.saveSettings());
            this.$watch("marginLeft", () => this.saveSettings());
            this.$watch("marginRight", () => this.saveSettings());
            this.$watch("marginTop", () => this.saveSettings());
            this.$watch("marginBottom", () => this.saveSettings());
          },

          saveSettings() {
            const settings = {
              textContent: this.textContent,
              textSize: this.textSize,
              paddingLeft: this.paddingLeft,
              paddingRight: this.paddingRight,
              paddingTop: this.paddingTop,
              paddingBottom: this.paddingBottom,
              backgroundColor: this.backgroundColor,
              textColor: this.textColor,
              boxWidth: this.boxWidth,
              boxHeight: this.boxHeight,
              marginLeft: this.marginLeft,
              marginRight: this.marginRight,
              marginTop: this.marginTop,
              marginBottom: this.marginBottom,
            };

            localStorage.setItem(
              "textStylerSettings",
              JSON.stringify(settings),
            );
          },
        }));
      });
    </script>
  </body>
</html>
